# Receipt Processor
Created for a coding challenge.

The Challenge: https://github.com/fetch-rewards/receipt-processor-challenge

A Node.JS Rest API for Receipt Point Tallying.

## How to Run

### With Docker
This project also includes a Dockerfile which you can use to build with an image. Alternatively, you can install the image for this project. The image itself can be found in this repository under packages. Before running, the project must have the ports properly connected. `docker run -d -p [REAL_PORT]:3000 [IMAGE-NAME]` must be run where [REAL_PORT] is the port you wish your client to connect to on your computer and [IMAGE-NAME] is the name of the docker image. If you use the package included with this repository, the IMAGE-NAME is ghcr.io/kevindly/receipt-server.


### With Node.js Installed
This project uses Node.js v18.18.0. To run you must use `node index` in the working directory of the project. The server itself runs on localhost port `3000`.

## How to Connect
The default port for the project is `3000`; however, if using the Docker image the port is configurable with the command listed above. 

## Summary of API Specification
**Please note that most of what is written is a repeat of the given specification in the original challenge**

### Endpoint: Process Receipts
- Path: /receipts/process
- Method: POST
- Payload: Receipt JSON
- Response: JSON containing an id for the receipt.
Description:

Takes in a JSON receipt (see example in the example directory) and returns a JSON object with an ID generated by your code.

The ID returned is the ID that should be passed into /receipts/{id}/points to get the number of points the receipt was awarded.

If the receipt is incorrectly formed, a 400 status code will be returned.

Example Response:

```
{ "id": "7fb1377b-b223-49d9-a31a-5a02701dd310" }
```

### Endpoint: Get Points
- Path: /receipts/{id}/points
- Method: GET
- Response: A JSON object containing the number of points awarded.

A simple Getter endpoint that looks up the receipt by the ID and returns an object specifying the points awarded.

If the ID does not exist, a 404 status code will be returned.

Example Response:
```
{ "points": 32 }
```
